# SLAM –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã
```bash
python bag2las_transform.py
```

### 2. –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —Å SLAM
–ü—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç **3**:
```
üéØ –í–´–ë–û–† –†–ï–ñ–ò–ú–ê –¢–†–ê–ù–°–§–û–†–ú–ê–¶–ò–ò:
1. üö´ –ë–µ–∑ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å–µ–Ω—Å–æ—Ä–∞)
2. üåç –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (–æ–¥–æ–º–µ—Ç—Ä–∏—è)
3. üåç –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ + SLAM –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚Üê –í–´–ë–ï–†–ò–¢–ï –≠–¢–û–¢
4. üìç –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–≤–æ–≥–æ —Å–∫–∞–Ω–∞)
5. ‚ùå –û—Ç–º–µ–Ω–∞

–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ (1-5): 3
```

## –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ SLAM –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏
```
ü§ñ –ü–†–ò–ú–ï–ù–ï–ù–ò–ï SLAM –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò...
üìä –î–æ–±–∞–≤–ª–µ–Ω–∏–µ 1247 –ø–æ–∑ –≤ –≥—Ä–∞—Ñ...
```

### –≠—Ç–∞–ø 2: –ü–æ–∏—Å–∫ –∑–∞–º—ã–∫–∞–Ω–∏–π —Ü–∏–∫–ª–æ–≤
```
üîç –ü–æ–∏—Å–∫ –∑–∞–º—ã–∫–∞–Ω–∏–π —Ü–∏–∫–ª–æ–≤...
   ‚úÖ –ù–∞–π–¥–µ–Ω–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤: 23
   üéØ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –∑–∞–º—ã–∫–∞–Ω–∏–π —Ü–∏–∫–ª–æ–≤: 8
   üí™ –°—Ä–µ–¥–Ω—è—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 0.89
```

### –≠—Ç–∞–ø 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞
```
üîß –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞ –ø–æ–∑...
   üìà –ò—Ç–µ—Ä–∞—Ü–∏—è 1: –æ—Å—Ç–∞—Ç–æ–∫ = 2.456
   üìà –ò—Ç–µ—Ä–∞—Ü–∏—è 15: –æ—Å—Ç–∞—Ç–æ–∫ = 0.089
   ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ö–æ–¥–∏—Ç—Å—è –∑–∞ 15 –∏—Ç–µ—Ä–∞—Ü–∏–π
```

### –≠—Ç–∞–ø 4: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
```
üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ SLAM –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò:
   ‚Ä¢ –ù–∞–π–¥–µ–Ω–æ loop closures: 8
   ‚Ä¢ –ò—Å—Ö–æ–¥–Ω–∞—è –¥–ª–∏–Ω–∞ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏: 1247.85 –º  
   ‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª–∏–Ω–∞: 1251.23 –º
   ‚Ä¢ –ò—Å—Ö–æ–¥–Ω—ã–π –¥—Ä–∏—Ñ—Ç: 4.234 –º
   ‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥—Ä–∏—Ñ—Ç: 0.567 –º
   ‚Ä¢ –°—Ä–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏: 0.845 –º
   ‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ: 3.221 –º
```

## –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### ‚úÖ –•–æ—Ä–æ—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- **Loop closures –Ω–∞–π–¥–µ–Ω–æ**: 5+ –∑–∞–º—ã–∫–∞–Ω–∏–π —Ü–∏–∫–ª–æ–≤
- **–°–Ω–∏–∂–µ–Ω–∏–µ –¥—Ä–∏—Ñ—Ç–∞**: –ù–∞ 70%+ –æ—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ
- **–°—Ä–µ–¥–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏**: 0.5-2.0 –º–µ—Ç—Ä–∞
- **–°—Ö–æ–¥–∏–º–æ—Å—Ç—å**: –ó–∞ 10-30 –∏—Ç–µ—Ä–∞—Ü–∏–π

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è  
- **Loop closures –Ω–∞–π–¥–µ–Ω–æ**: 0-2 –∑–∞–º—ã–∫–∞–Ω–∏—è
- **–°–Ω–∏–∂–µ–Ω–∏–µ –¥—Ä–∏—Ñ—Ç–∞**: –ú–µ–Ω–µ–µ 30%
- **–°—Ä–µ–¥–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏**: –ë–æ–ª—å—à–µ 5 –º–µ—Ç—Ä–æ–≤
- **–°—Ö–æ–¥–∏–º–æ—Å—Ç—å**: –ë–æ–ª–µ–µ 40 –∏—Ç–µ—Ä–∞—Ü–∏–π

### ‚ùå –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–ª—É—á–∞–∏
- **Loop closures –Ω–∞–π–¥–µ–Ω–æ**: 0 –∑–∞–º—ã–∫–∞–Ω–∏–π
- **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –¥—Ä–∏—Ñ—Ç–∞**: –î—Ä–∏—Ñ—Ç —Å—Ç–∞–ª –±–æ–ª—å—à–µ
- **–û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏**: –ë–æ–ª—å—à–µ 10 –º–µ—Ç—Ä–æ–≤
- **–ù–µ—Ç —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏**: 50 –∏—Ç–µ—Ä–∞—Ü–∏–π –±–µ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ—É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–µ, –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –∫–æ–¥–µ:

```python
slam = SimpleSLAM(
    loop_closure_distance=3.0,  # –£–º–µ–Ω—å—à–∏—Ç–µ –¥–æ 1.5-2.0 –¥–ª—è —Å—Ç—Ä–æ–≥–∏—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤
    min_time_gap=15.0           # –£–≤–µ–ª–∏—á—å—Ç–µ –¥–æ 30.0 –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π
)
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä `loop_closure_distance`
- **1.0-2.0 –º**: –°—Ç—Ä–æ–≥–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏, –º–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö –∑–∞–º—ã–∫–∞–Ω–∏–π
- **3.0-4.0 –º**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **5.0+ –º**: –ú—è–≥–∫–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏, –±–æ–ª—å—à–µ –∑–∞–º—ã–∫–∞–Ω–∏–π

### –ü–∞—Ä–∞–º–µ—Ç—Ä `min_time_gap`  
- **5-10 —Å–µ–∫**: –î–ª—è –ø–ª–æ—Ç–Ω—ã—Ö —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π
- **15-20 —Å–µ–∫**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **30+ —Å–µ–∫**: –î–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –ø–µ—Ç–µ–ª—å

## –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ñ–∞–π–ª –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:
```
üìä –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π...
   ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞: /path/to/output/bagname_slam_trajectory_comparison.png
```

### –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫:

1. **–í–µ—Ä—Ö–Ω–∏–π –ª–µ–≤—ã–π**: 2D —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è —Å–≤–µ—Ä—Ö—É
   - –ö—Ä–∞—Å–Ω–∞—è –ª–∏–Ω–∏—è: –∏—Å—Ö–æ–¥–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è
   - –°–∏–Ω—è—è –ª–∏–Ω–∏—è: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è
   - –ó–µ–ª–µ–Ω–∞—è —Ç–æ—á–∫–∞: —Å—Ç–∞—Ä—Ç
   - –ö–≤–∞–¥—Ä–∞—Ç—ã: —Ñ–∏–Ω–∏—à (–∫—Ä–∞—Å–Ω—ã–π/—Å–∏–Ω–∏–π)

2. **–í–µ—Ä—Ö–Ω–∏–π –ø—Ä–∞–≤—ã–π**: –ü—Ä–æ—Ñ–∏–ª—å –≤—ã—Å–æ—Ç—ã
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã—Å–æ—Ç—ã –≤–¥–æ–ª—å –ø—É—Ç–∏

3. **–ù–∏–∂–Ω–∏–π –ª–µ–≤—ã–π**: –ö–æ—Ä—Ä–µ–∫—Ü–∏–∏ –ø–æ–∑–∏—Ü–∏–π
   - –ì—Ä–∞—Ñ–∏–∫ –≤–µ–ª–∏—á–∏–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏

4. **–ù–∏–∂–Ω–∏–π –ø—Ä–∞–≤—ã–π**: –°–≤–æ–¥–∫–∞ –º–µ—Ç—Ä–∏–∫
   - –¢–µ–∫—Å—Ç–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SLAM

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
- –¢—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ —Å –ø–µ—Ç–ª—è–º–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞–º–∏
- –î–ª–∏–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (>500 –º)
- –î–∞–Ω–Ω—ã–µ —Å –∑–∞–º–µ—Ç–Ω—ã–º –¥—Ä–∏—Ñ—Ç–æ–º –æ–¥–æ–º–µ—Ç—Ä–∏–∏  
- –ö–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–¥–∞–Ω–∏–π/—É—á–∞—Å—Ç–∫–æ–≤
- –ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –≤—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å

### ‚ùå –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:
- –ö–æ—Ä–æ—Ç–∫–∏–µ –ø—Ä—è–º—ã–µ –ª–∏–Ω–∏–∏ (<100 –º)
- –í—ã—Å–æ–∫–æ—Ç–æ—á–Ω–∞—è –æ–¥–æ–º–µ—Ç—Ä–∏—è (RTK GPS)
- –û—Ç–∫—Ä—ã—Ç—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π
- –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∞–∂–Ω–µ–µ —Ç–æ—á–Ω–æ—Å—Ç–∏

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ –Ω–∞–π–¥–µ–Ω–æ –∑–∞–º—ã–∫–∞–Ω–∏–π —Ü–∏–∫–ª–æ–≤"
**–†–µ—à–µ–Ω–∏—è:**
- –£–≤–µ–ª–∏—á—å—Ç–µ `loop_closure_distance` –¥–æ 4-5 –º–µ—Ç—Ä–æ–≤
- –£–º–µ–Ω—å—à–∏—Ç–µ `min_time_gap` –¥–æ 10 —Å–µ–∫—É–Ω–¥
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –≤ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ—Å–µ—â–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: "–û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏"
**–†–µ—à–µ–Ω–∏—è:**
- –£–º–µ–Ω—å—à–∏—Ç–µ `loop_closure_distance` –¥–æ 1-2 –º–µ—Ç—Ä–æ–≤
- –£–≤–µ–ª–∏—á—å—Ç–µ `min_time_gap` –¥–æ 30+ —Å–µ–∫—É–Ω–¥
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö –æ–¥–æ–º–µ—Ç—Ä–∏–∏

### –ü—Ä–æ–±–ª–µ–º–∞: "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–µ —Å—Ö–æ–¥–∏—Ç—Å—è"
**–†–µ—à–µ–Ω–∏—è:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–∞–Ω–Ω—ã—Ö –æ–¥–æ–º–µ—Ç—Ä–∏–∏
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–µ–∂–∏–º –±–µ–∑ SLAM (–≤–∞—Ä–∏–∞–Ω—Ç 2)

### –ü—Ä–æ–±–ª–µ–º–∞: "–î—Ä–∏—Ñ—Ç —É–≤–µ–ª–∏—á–∏–ª—Å—è"
**–ü—Ä–∏—á–∏–Ω—ã:**
- –õ–æ–∂–Ω—ã–µ –∑–∞–º—ã–∫–∞–Ω–∏—è —Ü–∏–∫–ª–æ–≤
- –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–¥–æ–º–µ—Ç—Ä–∏–∏
- –°–ª–∏—à–∫–æ–º –º—è–≥–∫–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏

**–†–µ—à–µ–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –û—Ç–∫–ª—é—á–∏—Ç–µ SLAM –¥–ª—è –¥–∞–Ω–Ω–æ–π —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏

## –§–æ—Ä–º–∞—Ç—ã –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å SLAM –ø–æ–ª—É—á–∏—Ç–µ:

1. **`bagname.laz`** - –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –æ–±–ª–∞–∫–∞ —Ç–æ—á–µ–∫
2. **`bagname.pos`** - –¢—Ä–∞–µ–∫—Ç–æ—Ä–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ POS (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)
3. **`bagname_slam_trajectory_comparison.png`** - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–í—Å–µ —Ñ–∞–π–ª—ã –≥–æ—Ç–æ–≤—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ CloudCompare, QGIS –∏ –¥—Ä—É–≥–∏—Ö –ì–ò–°-–ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö.