# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ü–æ–∑–∏—Ü–∏–π –ö–∞–º–µ—Ä—ã - –ö—Ä–∞—Ç–∫–æ–µ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ò–∑–≤–ª–µ—á—å –ø–æ–∑–∏—Ü–∏–∏ –∫–∞–º–µ—Ä—ã –∏–∑ ROS bag —Ñ–∞–π–ª–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞–º–º–µ—Ç—Ä–∏–∏:

```bash
python3 extract_camera_positions.py
```

## üì¶ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

–ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–∑ bag —Ñ–∞–π–ª–∞:
- ‚è±Ô∏è –¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è —Å—ä—ë–º–∫–∏ –∫–∞–∂–¥–æ–≥–æ –∫–∞–¥—Ä–∞
- üìù –ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π  
- üìç –ü–æ–∑–∏—Ü–∏—é –¥—Ä–æ–Ω–∞ (x, y, z) —Å –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–µ–π
- üß≠ –û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é (quaternion)

## üìä –§–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞

| –§–æ—Ä–º–∞—Ç | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|--------|---------------|
| **CSV** | Excel, —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç |
| **JSON** | –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ |
| **Agisoft TXT** | Agisoft Metashape, Pix4D |

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç –Ω–∞ test.bag
python3 test_camera_extract.py
```

**–°–æ–∑–¥–∞—ë—Ç —Ñ–∞–π–ª—ã:**
- `test_camera_positions.csv`
- `test_camera_positions.json`
- `test_camera_positions_agisoft.txt`

## üìù –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

### CSV —Ñ–æ—Ä–º–∞—Ç:
```csv
timestamp,seq_id,filename,x,y,z,qx,qy,qz,qw
1758293459.946,1000,image_20250919_175100_691924_seq1000.jpg,-0.018,0.137,-0.025,-0.040,0.014,0.048,-0.998
```

### Agisoft TXT —Ñ–æ—Ä–º–∞—Ç:
```
image_20250919_175100_691924_seq1000.jpg -0.018345 0.137097 -0.025323 -0.040433 0.013860 0.048478 -0.997909
```

## üîß –¢—Ä–µ–±—É–µ–º—ã–µ —Ç–æ–ø–∏–∫–∏

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
- `/mavros/cam_imu_sync/cam_imu_stamp` - –º–µ—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –∫–∞–¥—Ä–æ–≤
- `/mavros/statustext/send` - –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ (—Ñ–∏–ª—å—Ç—Ä `[PHOTO]:`)
- `/mavros/local_position/odom` - –ø–æ–∑–∏—Ü–∏—è –∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è

## üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. [CAMERA_POSITIONS_EXTRACTOR.md](./CAMERA_POSITIONS_EXTRACTOR.md)

## üêõ –û—Ç–ª–∞–¥–∫–∞

–î–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º:

```bash
python3 camera_frames_debug.py
```

–°–º. [CAMERA_FRAMES_DEBUG_README.md](./CAMERA_FRAMES_DEBUG_README.md)

---

**–ß–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ rosbag_to_las**
